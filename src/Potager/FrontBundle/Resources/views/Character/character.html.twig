{% extends 'PotagerFrontBundle::layout.html.twig' %} {% block content %}

<div id="header">
	<img id="logo"
		src="{{ asset('bundles/potagerbusiness/images/logo.png') }}"
		alt="Garden War" />
</div>
<div id="banner" class="{{ user.faction.name|lower }}">
	<div id="avatar" class="{{ user.faction.name|lower }}">
		<img alt="avatar" src="{{ asset(user.avatar.url) }}">
	</div>
	<div id="myUser" class="{{ user.faction.name|lower }}">
		<p>Bienvenue {{ user.username }}</p>
		<a href="../deconnexion" class="deconnexion">Se déconnecter</a>
	</div>
</div>
<!-- fin#banner -->
<div id="nav" class="{{ user.faction.name|lower }}">
	<ul>
		<li class="active"><a href="#">Statistiques</a></li>
		<li><a href="#">Rejoindre le champs</a></li>
		<li><a href="#">Compte</a></li>
	</ul>
</div>
<div id="resumeFight" class="{{ user.faction.name|lower }}">
	<div id="victoryFight">
		<p>victoires</p>
	</div>
	<div id="barreFight">
		<p class="title">Combats</p>
		<div id="zone_barreFight">
			<div id="myScoreWin">
				<p>{{ user.fightWon }}</p>
			</div>
			{% set percentWin = user.fightWon * 100 / (user.fightLost +
			user.fightWon + user.fightDraw ) %} {% set percentDraw =
			user.fightDraw * 100 / (user.fightLost + user.fightWon +
			user.fightDraw ) %}
			<div id="fullbarre_enemy"
				class="{% if user.faction.name|lower=="betterave" %}kiwi{% else %}betterave{% endif %}">
				<div id="egalityBarre"
					style="width:{{ percentWin + percentDraw }}%;">Egalite</div>
				<div id="mybarre"
					class="{% if user.faction.name|lower=="betterave" %}betterave{% else %}kiwi{% endif %}"
					style="width: {{ percentWin }}%;">
					<!-- CSS -->
				</div>
			</div>
			<div id="myScoreLoose">
				<p>{{ user.fightLost }}</p>
			</div>
		</div>
	</div>
	<div id="looseFight">
		<p>défaites</p>
	</div>
</div>
<div id="last3fights">
	<ul>
		{% set fights = user.allFight %} {% for fight in fights|slice(0, 3) %}
		{# egal#} {% if fight.attacker.id == user.id %}
		<li
			class="{% if fight.attacker.id == user.id and fight.attackerWin == 1 %}{{ fight.attacker.faction.name|lower }}{% elseif fight.attacker.id == user.id and fight.attackerWin == -1 %}{{ fight.defender.faction.name|lower }}{% else %}egal{% endif %}">
			<p class="title_last3fights">{% if fight.attackerWin == 1 %} Victoire
				{% elseif fight.attackerWin == -1 %} Défaite {% else %} Égalité {%
				endif %}</p>
			<div class="avatar_enemy">
				<img src="{{ asset(fight.defender.avatar.url) }}" />
			</div>
			<p class="name_enemy">{{ fight.defender.username }}</p>
		</li> {% else %}
		<li
			class="{% if fight.defender.id == user.id and fight.attackerWin == 1 %}{{ fight.attacker.faction.name|lower }}{% elseif fight.defender.id == user.id and fight.attackerWin == -1 %}{{ fight.defender.faction.name|lower }}{% else %}egal{% endif %}">
			<p class="title_last3fights">{% if fight.attackerWin == -1 %}
				Victoire {% elseif fight.attackerWin == 1 %} Défaite {% else %}
				Égalité {% endif %}</p>
			<div class="avatar_enemy">
				<img src="{{ asset(fight.attacker.avatar.url) }}" />
			</div>
			<p class="name_enemy">{{ fight.attacker.username }}</p>
		</li> {% endif %} {% endfor %}
	</ul>
</div>
<div id="caracteristic" class="betterave">
	<p class="title_caracteristic">Caractéristiques</p>
	<ul>
		<li>Nombre de victoires : {{ user.fightWon }}</li>
		<li>Nombre de défaites : {{ user.fightLost }}</li>
		<li>Nombre d'égalités : {{ user.fightDraw }}</li>
	</ul>
	<p>Vous êtes niveau {{ user.attribute.level }}</p>

	<div class="skill experience">
		<p class="skill_title">Expérience</p>
		<div id="bar-1" class="bar-main-container azure">
			<div class="wrap">
				<div class="bar-percentage"
					data-percentage="{{ user.attribute.xp }}">{{ user.attribute.xp }} %</div>
				<div class="bar-container">
					<div class="bar"></div>
				</div>
			</div>
		</div>
	</div>

	<div id="double_skills" class="clearfix">
		<div id="skills_left">
			<div class="skill">
				<p class="skill_title">Force</p>
				<div id="bar-2" class="bar-main-container emerald">
					<div class="wrap">
						<div class="bar-percentage"
							data-percentage="{{ user.attribute.strenght }}">{{
							user.attribute.strenght }} pts</div>
						<div class="bar-container">
							<div class="bar"></div>
						</div>
					</div>
				</div>
				<div class="addSkill">Add</div>
			</div>

			<div class="skill">
				<p class="skill_title">Endurance</p>
				<div id="bar-3" class="bar-main-container violet">
					<div class="wrap">
						<div class="bar-percentage"
							data-percentage="{{ user.attribute.stamina }}">{{
							user.attribute.stamina }} pts</div>
						<div class="bar-container">
							<div class="bar"></div>
						</div>
					</div>
				</div>
				<div class="addSkill">Add</div>
			</div>
		</div>
		<div id="skills_right">
			<div class="skill">
				<p class="skill_title">Agilité</p>
				<div id="bar-4" class="bar-main-container yellow">
					<div class="wrap">
						<div class="bar-percentage"
							data-percentage="{{ user.attribute.agility }}">{{
							user.attribute.agility }} pts</div>
						<div class="bar-container">
							<div class="bar"></div>
						</div>
					</div>
				</div>
				<div class="addSkill">Add</div>
			</div>

			<div class="skill">
				<p class="skill_title">Chance</p>
				<div id="bar-5" class="bar-main-container red">
					<div class="wrap">
						<div class="bar-percentage"
							data-percentage="{{ user.attribute.luck }}">{{
							user.attribute.luck }} pts</div>
						<div class="bar-container">
							<div class="bar"></div>
						</div>
					</div>
				</div>
				<div class="addSkill">Add</div>
			</div>
		</div>
	</div>


</div>

{# dans la nav faire le lien vers "profil/edit" pour "compte" #} {%
endblock %}
